<!DOCTYPE html>
<html>
    <head>
	     <script src="https://code.jquery.com/jquery-3.6.0.js" 
		     integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
			 <link rel="preconnect" href="https://fonts.googleapis.com">
			 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
			 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
			 <link rel = "stylesheet" href="style.css" type="text/css">
    </head>
    <body>
	<div class="navbar">
		<div class="logo">
			<a class="active" href='index.html'><img src="mindflow2.png" alt="logo" width='210px'
				height='66px' float:'left';></source></a>
		</div>
		<div class="navcontainer">
			<a class="active" href='index.html'>Home</a>
			<a href="about.html">About Us</a>
			<a href="#contact">Contact Information</a>
			<a href="questions.html">Responses</a>
			<div class="login">
				<a href="#login">Log in</a>
			</div>
		</div>
	</br></br></br></br></br></br>
	<script>
		function play_start(){
			
			$.post("/open_api/play_movie", { "data":"somedata", "any":"data"},
				function(data, textStatus) {
					//this gets called when browser receives response from server
					console.log(data);
				}, "json").fail( function(response) {
					//this gets called if the server throws an error
					console.log("error");
				console.log(response);});
		}
		// function play_stop(){
		// 	$.post("/open_api/play_movie", { "data":"somedata", "any":"data"},

		// }
	</script>

	<div class="vid">
		<video id="video" width="640" height="480" controls>
			<source src="videos/movie.mp4" type="video/mp4">
				Your browser does not support the video tag.
		</video>
	</div>
	<div class="content-container">
		<ul class="videos-list" id="videos-list">
			<li>This is one link</li>
		</ul>
	</div>
	<script>
		/*
		video.addEventListener("play", (event) => {
			play_start();
		});
		*/
		// video.addEventListener("stop", (event) =>{
		// 	play_stop();
		// });
	</script>
	<script>
        // Function to fetch list from server and update the UL
        function populateList() {
            fetch('/get-videos-list')  // Update with your server URL
                .then(response => response.json())
                .then(data => {
                    const ul = document.getElementById('videos-list');
					console.log(data);
                    data.forEach(item => {
                        const li = document.createElement('li');
						const a = document.createElement('a');
                    	a.textContent = item; // Assuming each video has a 'name' property
                    	a.href = "#";
						a.addEventListener('click', (event) => {
                        	event.preventDefault(); // Prevent the default link behavior
                        	 // Call the function to change the video
							//socket.emit('new_video', {name: item})
							changeVideo(item);
						});
						li.appendChild(a);
                        ul.appendChild(li);
                    });
                })
                .catch(error => console.error('Error:', error));
        }

        // Call the function on page load
        window.onload = populateList;
    </script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
	<script src="websocket.js"></script>
    </body>
</html>

